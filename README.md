# ๐ ีีกึีฏีกีตีซีถ ีีธีฝึีกีฃีฎีซ ีีฅึีขีธีฒีดีกีถ ีีกีดีกีฏีกึีฃ

ิฑีตีฝ ีถีกีญีกีฃีซีฎีจ ีถีกีญีกีฟีฅีฝีพีกีฎ ีง ีขีกีถีฏีซ ีพีกึีฏีกีตีซีถ ีฐีธีฝึีกีฃีฎีซ ีฟีพีตีกีฌีถีฅึีซ ีดีธีคีฅีฌีกีพีธึีดีกีถ,  
KPIโีถีฅึีซ ีฐีกีทีพีกึีฏีดีกีถ ึ ีพีซีฆีธึีกีฌ Dashboardโีซ ีฝีฟีฅีฒีฎีดีกีถ ีฐีกีดีกึึ  
ีีพีตีกีฌีถีฅึีจ ีขีฅีผีถีพีธึีด ีฅีถ Excel ึีกีตีฌีซึ ึ ีบีกีฐีพีธึีด PostgreSQL ีฟีพีตีกีฌีถีฅึีซ ีขีกีฆีกีตีธึีดึ

---

## ๐ ีีกีญีกีฃีฎีซ ีฏีกีผีธึึีพีกีฎึ

project/
โ
โโโ sql/
โ โโโ 01_create_schema_and_tables.sql โ ิฑีฒีตีธึีฝีกีฏีถีฅึีซ ีฝีฟีฅีฒีฎีดีกีถ script
โ โโโ 02_create_views.sql โ Viewโีฅึีซ ีฝีฟีฅีฒีฎีดีกีถ script
โ
โโโ etl_load.py โ Excel-ีซึ ีฟีพีตีกีฌีถีฅึีซ ีขีฅีผีถีธึีด PostgreSQL
โโโ dashboard.py โ Streamlit Dashboard
โโโ requirements.txt โ ิฑีถีฐึีกีชีฅีทีฟ Python ีฃึีกีคีกึีกีถีถีฅึีซ ึีกีถีฏ
โโโ README.md

---

## ๐งฉ ีีพีตีกีฌีถีฅึีซ ิฒีกีฆีกีตีซ ีีธีคีฅีฌ

ีีพีตีกีฌีถีฅึีซ ีขีกีฆีกีถ ีฏีกีผีธึึีพีกีฎ ีง **credit_conveyor** schema-ีซ ีฟีกีฏ ึ ีถีฅึีกีผีธึีด ีง ีฐีฅีฟึีตีกีฌ ีกีฒีตีธึีฝีกีฏีถีฅึีจโค

- **client** โ ีีกึีฏีกีผีธึีถีฅึ  
- **branch** โ ีีกีฝีถีกีณีตีธึีฒีฅึ  
- **product** โ ีีกึีฏีกีฟีฅีฝีกีฏีถีฅึ  
- **phase** โ ีีกึีฏีซ ีกีถึีกีฎ ึีธึีฌีฅึ  
- **loan** โ ีีกึีฏีกีตีซีถ ีคีซีดีธึีดีถีฅึ  
- **loan_phase_history** โ ีีธึีฌีฅึีซ ีบีกีฟีดีธึีฉีตีธึีถ  
- **kpi_definition** โ KPI ีฝีกีฐีดีกีถีกีนีกึีฅึ  
- **loan_phase_kpi** โ ีีธึีฌีซ ีฐีกีทีพีกึีฏีพีกีฎ KPI ีกึีชีฅึีถีฅึ  

ิฑีตีถ ีกีบีกีฐีธีพีธึีด ีง ีฟีกึีกีถีปีกีฟีพีกีฎ, ีฌีกีพ ีถีธึีดีกีฌีกึีพีกีฎ ีณีกึีฟีกึีกีบีฅีฟีธึีฉีตีธึีถึ

---

## ๐งฎ KPI ีีกีทีพีกึีฏีดีกีถ Logic

ีีธึึีกึีกีถีนีตีธึึ ีพีกึีฏ ีกีถึีถีธึีด ีง ีดีซ ึีกีถีซ ึีธึีฌึ  
ีีธึึีกึีกีถีนีตีธึึ ึีธึีฌีซ ีฐีกีดีกึ ีฐีกีทีพีกึีฏีพีธึีด ีงี

```text
duration_days = end_date - start_date

ิฑีตีถีธึีฐีฅีฟึ durationโีจ ีฐีกีดีฅีดีกีฟีพีธึีด ีง ีฐีกีดีกีบีกีฟีกีฝีญีกีถ KPI ีทีฅีดีซ ีฐีฅีฟ (ึึโค threshold_value = 1 ึึ).

ิตีฉีฅ` value_numeric > threshold_value
ีกีบีก ีพีกึีฏีจ ีฐีกีดีกึีพีธึีด ีง KPI-ีซีถ ีนีฐีกีดีกีบีกีฟีกีฝีญีกีถีธีฒึ

ิฑีตีฝ ีถีบีกีฟีกีฏีธีพ ีฝีฟีฅีฒีฎีพีกีฎ ีง viewี

vw_phase_duration โ ีบีกีฐีธึีด ีง ึีธึีฌีกีตีซีถ ีฟึีธีฒีธึีฉีตีธึีถีถีฅึีจ ึึีฅึีธีพ

vw_kpi_violated_loans โ ีพีฅึีกีคีกึีฑีถีธึีด ีง KPI ีนีฏีกีฟีกึีธีฒ ีพีกึีฏีฅึีจ

๐ Dashboardโีซ ีีฏีกึีกีฃึีธึีฉีตีธึีถ

Dashboardโีจ ีฏีกีผีธึึีพีกีฎ ีง Streamlitโีธีพ ึ ีกีบีกีฐีธีพีธึีด ีงี

๐ ีีซีฌีฟึีกึีซีก ีจีฝีฟ

ีีกีณีกีญีธึีคีซ (client)

ีีกีฝีถีกีณีตีธึีฒีซ

ีีกึีฏีกีฟีฅีฝีกีฏีซ

ิฟีกึีฃีกีพีซีณีกีฏีซ

ิฑีดีฝีกีฉีพีซ

โ KPI-ีซีถ ีนีฐีกีดีกีบีกีฟีกีฝีญีกีถีธีฒ ีพีกึีฏีฅึีซ ึีธึึีกีฏ

ีีธึึีกีคึีธึีด ีง ีขีธีฌีธึ ีกีตีถ ีพีกึีฏีฅึีจ, ีธึีธีถึ ึีธึีฌีฅึีซ ีฟึีธีฒีธึีฉีตีธึีถีจ ีฃีฅึีกีฆีกีถึีธึีด ีง KPI ีทีฅีดีฅึีจึ

๐ ีีซีฆีธึีกีฌ ีฃีฎีกีบีกีฟีฏีฅึีถีฅึ ึ ีฉีกีขีฌีซึีกีถีฅึ

ีีกึีฏีฅึีซ ึีกีถีกีฏ ีจีฝีฟ ีดีกีฝีถีกีณีตีธึีฒีซ

ีีกึีฏีฅึีซ ึีกีถีกีฏ ีจีฝีฟ ีพีกึีฏีกีฟีฅีฝีกีฏีซ

ีีซีปีซีถ ึีธึีฌีกีตีซีถ ีฟึีธีฒีธึีฉีตีธึีถ ีจีฝีฟ ีดีกีฝีถีกีณีตีธึีฒีซ

ิธีถีคีฐีกีถีธึึ ีพีกึีฏีกีตีซีถ overview

Dashboardโีจ ึีฃีฟีกีฃีธึีฎีธึีด ีง Plotly ีขีซีขีฌีซีธีฟีฅีฏีจี ีฃีฅีฒีฅึีซีฏ ึ ีซีถีฟีฅึีกีฏีฟีซีพ ีฃีฎีกีบีกีฟีฏีฅึีถีฅึีซ ีฐีกีดีกึึ

๐ ีีฅีฏีถีกึีฏ
1โค ีีฅีฒีกีคึีฅึ ีกีถีฐึีกีชีฅีทีฟ ีฃึีกีคีกึีกีถีถีฅึีจ
pip install -r requirements.txt

2โค ิณีธึีฎีกึีฏีฅึ ETL ีฝีฏึีซีบีฟีจ
python etl_load.py

3โค ิณีธึีฎีกึีฏีฅึ Dashboardโีจ
streamlit run dashboard.py

๐ ีีฃีฟีกีฃีธึีฎีพีกีฎ ีฟีฅีญีถีธีฌีธีฃีซีกีถีฅึ

Python 3.10+

PostgreSQL 14+

Streamlit

Pandas

Plotly

psycopg2

openpyxl

๐ ีีฅีฒีซีถีกีฏ

Gagik Chatinyan